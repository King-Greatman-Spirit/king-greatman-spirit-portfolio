{% extends 'base.html' %}
{% load static %}

{% block content %}

<main class="main">

  <!-- Hero Section -->
  <section id="hero" class="hero section dark-background">

    <img src="{{ about_links.cover_image.url }}" alt="{{ about_links.name }} Picture" data-aos="fade-in" class="">

    <div class="container" data-aos="fade-up" data-aos-delay="100">
      <h2 style="color: #fff !important;">
        {{ about_links.name }}
      </h2>
      <p>
          I'm a
          <span style="color: #ffd801;" class="typed" data-typed-items="{{ about_links.title }}"></span>
          <span class="typed-cursor typed-cursor--blink" aria-hidden="true"></span>
      </p>

    </div>

  </section>
  <!-- /Hero Section -->

  <!-- About Section -->
  <section id="about" class="about section contact-section">

    <!-- Section Title -->
    <div class="container section-title" data-aos="fade-up">
      <h2>About</h2>
      <p>{{ about_links.description }}</p>
    </div>
    <!-- End Section Title -->

    <div class="container" data-aos="fade-up" data-aos-delay="100">

      <div class="row gy-4 justify-content-center">
        <div class="col-lg-4">
          <img src="{{ about_links.about_image.url }}" class="img-fluid" alt="{{ about_links.name }} Image">
        </div>
        <div class="col-lg-8 content">
          <h2>Software Engineer • AI & ML Specialist • Data Analyst</h2>
          <p class="fst-italic py-3">
            {{ about_links.intro_text }}
          </p>
          <div class="row">
          <div class="col-lg-6">
              <ul>
                  <!-- <li><i class="bi bi-chevron-right"></i> 
                      <strong>Birthday:</strong> 
                      <span>{{ about_links.birthday }}</span>
                  </li> -->

                  <li><i class="bi bi-chevron-right"></i> 
                      <strong>Website:</strong> 
                      <span>{{ about_links.website }}</span>
                  </li>

                  <li><i class="bi bi-chevron-right"></i> 
                      <strong>Phone:</strong> 
                      <span>{{ about_links.phone1 }}</span>
                  </li>

                  <li><i class="bi bi-chevron-right"></i> 
                      <strong>City:</strong> 
                      <span>{{ about_links.city }}</span>
                  </li>
              </ul>
          </div>
          <div class="col-lg-6">
              <ul>
                  <!-- <li><i class="bi bi-chevron-right"></i> 
                      <strong>Age:</strong> 
                      <span>{{ about_links.age }}</span>
                  </li> -->

                  <li><i class="bi bi-chevron-right"></i> 
                      <strong>Degree:</strong> 
                      <span>{{ about_links.degree }}</span>
                  </li>

                  <li><i class="bi bi-chevron-right"></i> 
                      <strong>Email:</strong> 
                      <span>{{ about_links.email }}</span>
                  </li>

                  <li><i class="bi bi-chevron-right"></i> 
                      <strong>Freelance:</strong> 
                      <span>{{ about_links.freelance }}</span>
                  </li>
              </ul>
          </div>
          <p class="py-3">
              {{ about_links.outro_text }}
          </p>
        </div>
      </div>

    </div>

  </section>
  <!-- /About Section -->

  <!-- Stats Section -->
  <section id="stats" class="stats stats-section">

    <div class="container" data-aos="fade-up" data-aos-delay="100">
      <div class="row gy-4">

        {% for stat in about_stats %}
        <div class="col-lg-3 col-md-6">
          <div class="stats-item">
            <i class="{{ stat.icon }}"></i>
            <span data-purecounter-start="0"
                  data-purecounter-end="{{ stat.value }}"
                  data-purecounter-duration="1"
                  class="purecounter"></span>

            <p><strong>{{ stat.label }}</strong> 
              <span style="color: #ffd801 !important;">
                {{ stat.description }}
              </span>
            </p>
          </div>
        </div>
        {% endfor %}

      </div>
    </div>


  </section>
  <!-- /Stats Section -->

  <!-- Skills Section -->
  <section id="skills" class="skills section light-background">

    <!-- Section heading and intro text -->
    <div class="container section-title" data-aos="fade-up">
      <h2>Skills</h2>
      <p>
        Delivering smart, scalable, and insight-powered digital 
        solutions that help businesses optimize performance, 
        enhance decision-making, and achieve lasting success.
      </p>
    </div>

    <div class="container" data-aos="fade-up" data-aos-delay="100">

      <!-- Wrapper for animated skill bars -->
      <div class="row skills-content skills-animation">

        <!-- LOOP through all Skill objects from Django admin -->
        {% for skill in about_skills %}

        <!-- If the skill index is even (0, 2, 4...), open a new column -->
        {% if forloop.counter0|divisibleby:2 %}
        <div class="col-lg-6">
        {% endif %}

        <!-- Single skill bar -->
        <div class="progress">

          <!-- Skill name and percentage -->
          <span class="skill">
            <span>{{ skill.name }}</span>
            <i class="val">{{ skill.percentage }}%</i>
          </span>

          <!-- Progress bar background wrapper -->
          <div class="progress-bar-wrap">

            <!-- Blue progress bar showing percentage -->
            <div class="progress-bar"
                role="progressbar"
                aria-valuenow="{{ skill.percentage }}"
                aria-valuemin="0"
                aria-valuemax="100"
                style="width: {{ skill.percentage }}%;">
            </div>

          </div>
        </div>

        <!-- If the skill index is odd (1, 3, 5...), close the opened column -->
        {% if not forloop.counter0|divisibleby:2 %}
        </div>
        {% endif %}

        {% endfor %}

      </div>
    </div>

  </section>
  <!-- /Skills Section -->

  <!-- Resume Section -->
  <section id="resume" class="resume section contact-section">

    <!-- Section Title -->
    <div class="container section-title" data-aos="fade-up">
      <h2>Resume</h2>
      {% for sum in summaries %}
      <p>{{ sum.intro_text }}</p>
      {% endfor %}
    </div>
    <!-- End Section Title -->

    <div class="container">

      <div class="row">

        <div class="col-lg-6" data-aos="fade-up" data-aos-delay="100">
          <h3 class="resume-title">Summary</h3>

          <div class="resume-item pb-0">
            {% for sum in summaries %}
            <h4>{{ sum.full_name }}</h4>
            <p><b>{{ sum.description }}</b></p>
            <ul>
              <li>{{ sum.address }}</li>
              <li>{{ sum.phone }}</li>
              <li>{{ sum.email }}</li>
            </ul>
            {% endfor %}
          </div>
          <!-- End Summary Item -->

          <h3 class="resume-title">Education</h3>
          <div class="resume-item">
            {% for edu in educations %}
            <h4>{{ edu.title }}</h4>
            <h5>{{ edu.year }}</h5>
            <p><b>{{ edu.institution }}</b></p>
            <p class="pb-4">{{ edu.description }}</p>
            {% endfor %}
          </div>
          <!-- Edn Education Item -->

        </div>

        <div class="col-lg-6" data-aos="fade-up" data-aos-delay="200">
          <h3 class="resume-title">Professional Experience</h3>
          <div class="resume-item">
            {% for exp in experiences %}
            <h4>{{ exp.title }}</h4>
            <h5>{{ exp.year }}</h5>
            <p><b>{{ exp.company }} {{ exp.city }} </b></p>
            <ul>
              <li>{{ exp.desc_one }}</li>
              <li>{{ exp.desc_two }}</li>
              <li class="pb-4">{{ exp.desc_three }}</li>
            </ul>
            {% endfor %}
          </div>
          <!-- End Experience Item -->
        </div>
        <!-- End Experience Item -->

      </div>

    </div>

  </section>
  <!-- /Resume Section -->

  <!-- Portfolio Section -->
  <section id="portfolio" class="portfolio section light-background">

    <!-- Section Title -->
    <div class="container section-title" data-aos="fade-up">
      <h2>Portfolio</h2>
      <p>
        Explore a curated collection of real-world projects spanning software engineering,
        artificial intelligence, data analytics, and digital solutions. Each portfolio category
        reflects hands-on expertise, scalable architecture, and measurable business impact—
        designed to solve complex challenges and drive sustainable growth.
      </p>
    </div>
    <!-- End Section Title -->

    <div class="container">

      <div class="isotope-layout"
        data-default-filter="*"
        data-layout="masonry"
        data-sort="original-order">

        <!-- Portfolio Filters -->
        <ul class="portfolio-filters isotope-filters"
            data-aos="fade-up"
            data-aos-delay="100">

          <!-- Dynamic Service Acronyms -->
          {% for service in portfolio_services %}
            <li class="fw-bold"
                id="filter-{{ service.acronym|slugify }}" 
                data-filter=".filter-{{ service.acronym|slugify }}">
              {{ service.acronym }}
            </li>
          {% endfor %}

          <!-- ALL -->
          <li data-filter="*" class="filter-active fw-bold">
            ALL
          </li>

        </ul>
        <!-- End Portfolio Filters -->

        <div class="row gy-4 isotope-container"
          data-aos="fade-up"
          data-aos-delay="200">

          {% comment %} Group projects by service {% endcomment %}
          {% regroup projects by service as project_groups %}

          {% for group in project_groups %}
              {% for project in group.list %}
                  <div class="col-lg-4 col-md-6 portfolio-item isotope-item
                              filter-{{ project.service.acronym|slugify }}">
                      <div class="portfolio-content h-100">

                          {% with project.project_images.first as image %}
                              {% if image %}
                                  <img src="{{ image.image.url }}" class="img-fluid" alt="{{ project.title }}">
                              {% endif %}
                          {% endwith %}

                          <div class="portfolio-info">
                              <h4>{{ project.service.name }} {{ forloop.counter }}</h4>

                              <p style="color: #ffd801;">{{ project.title }}</p>

                              {% with project.project_images.first as image %}
                                  {% if image %}
                                      <a href="{{ image.image.url }}"
                                        data-gallery="portfolio-gallery-{{ project.service.acronym|slugify }}"
                                        class="glightbox preview-link"
                                        title="{{ project.title }}">
                                          <i class="bi bi-zoom-in"></i>
                                      </a>
                                  {% endif %}
                              {% endwith %}

                              <a href="{{ project.portfolio_url }}" class="details-link" title="{{ project.title }}">
                                  <i class="bi bi-link-45deg"></i>
                              </a>
                          </div>

                      </div>
                  </div>
              {% endfor %}
          {% endfor %}

        </div>
      </div>

    </div>

  </section>
  <!-- /Portfolio Section -->

  <!-- Services Section -->
  <section id="services" class="services section contact-section">

    <!-- Section Title -->
    <div class="container section-title" data-aos="fade-up">
      <h2>Services</h2>
      <p>
        Discover how our expert solutions can help your business thrive. 
        From building scalable web applications and AI-powered tools to 
        delivering actionable insights through data analytics, 
        we empower companies to boost efficiency, drive growth, and stay 
        ahead of the competition. Partner with us to transform your 
        ideas into results that matter.
      </p>
    </div>
    <!-- End Section Title -->

    <div class="container">

      <div class="row gy-4">
        {% for service in services %}
        <div class="col-lg-4 col-md-6 service-item d-flex" data-aos="fade-up" data-aos-delay="{{ service.aos_delay }}">
          <div class="icon flex-shrink-0">
            <i class="bi {{ service.icon }}"></i>
          </div>
          <div>
            <h4 class="title">
              <a href="{{ service.service_url }}" class="stretched-link">
                {{ service.name }}
              </a>
            </h4>
            <p class="description">{{ service.description }}</p>
          </div>
        </div>
        {% endfor %}
      </div>

    </div>

  </section>
  <!-- /Services Section -->

  <!-- Testimonials Section -->
  <section id="testimonials" class="testimonials section light-background">

    <!-- Section Title -->
    <div class="container section-title" data-aos="fade-up">
      <h2>Testimonials</h2>
      <p>What clients say about working with King Greatman Spirit</p>
    </div><!-- End Section Title -->

    <div class="container" data-aos="fade-up" data-aos-delay="100">

      <div class="swiper init-swiper">
        <script type="application/json" class="swiper-config">
          {
            "loop": true,
            "speed": 600,
            "autoplay": { "delay": 5000 },
            "slidesPerView": "auto",
            "pagination": {
              "el": ".swiper-pagination",
              "type": "bullets",
              "clickable": true
            },
            "breakpoints": {
              "320": { "slidesPerView": 1, "spaceBetween": 40 },
              "1200": { "slidesPerView": 3, "spaceBetween": 1 }
            }
          }
        </script>

        <div class="swiper-wrapper">

          {% for testimonial in testimonials %}
          <div class="swiper-slide">
            <div class="testimonial-item">

              <p>
                <i class="bi bi-quote quote-icon-left"></i>
                <span>{{ testimonial.message }}</span>
                <i class="bi bi-quote quote-icon-right"></i>
              </p>

              <img src="{{ testimonial.image.url }}"
                  class="testimonial-img"
                  loading="lazy"
                  alt="{{ testimonial.name }} Picture"
                  width="70" height="70" 
              />

              <h3 class="hertest">
                <a href="{{ testimonial.weblink }}" 
                  target="_blank" rel="noopener noreferrer">
                  {{ testimonial.full_name }}
                </a>
              </h3>

              <h4 style="color: #194e42;">
                {{ testimonial.role }}
                {% if testimonial.company_name %}
                  &nbsp;– {{ testimonial.company_name }}
                {% endif %}
              </h4>

            </div>
          </div>
          <!-- End testimonial item -->
          {% endfor %}

        </div>

        <div class="swiper-pagination"></div>
      </div>

    </div>

  </section>
  <!-- /Testimonials Section -->

  <!-- Contact Section -->
  <section id="contact" class="contact contact-section">
  <!-- Contact King Greatman Spirit – Software Engineer, AI & Data Specialist in Nigeria -->

    <!-- Section Title -->
    <div class="container section-title" data-aos="fade-up">
      <h2>Contact</h2>
      <p>
        Have a project in mind or need expert support in software 
        development, AI, data analysis, or digital strategy?
        Let’s discuss how we can turn your ideas into scalable, 
        high-impact solutions.
      </p>
    </div>
    <!-- End Section Title -->

    <div class="container" data-aos="fade-up" data-aos-delay="100">

      <div class="row gy-4">

        <div class="col-lg-5">

          <div class="info-wrap">
            <div class="info-item d-flex" data-aos="fade-up" data-aos-delay="200">
              <i class="bi bi-geo-alt flex-shrink-0"></i>
              <div>
                <h3>Address</h3>
                <p>{{ about_links.city }}, Rivers State, Nigeria — Serving clients locally & globally</p>
              </div>
            </div>
            <!-- End Info Item -->

            <div class="info-item d-flex" data-aos="fade-up" data-aos-delay="300">
              <i class="bi bi-telephone flex-shrink-0"></i>
              <div>
                <h3>Call or WhatsApp</h3>
                <p>{{ about_links.phone1 }}</p>
              </div>
            </div>
            <!-- End Info Item -->

            <div class="info-item d-flex" data-aos="fade-up" data-aos-delay="400">
              <i class="bi bi-envelope flex-shrink-0"></i>
              <div>
                <h3>Email Us</h3>
                <p>Reach us anytime at {{ about_links.email }}</p>
              </div>
            </div>
            <!-- End Info Item -->

            <iframe
              src="https://www.google.com/maps?q=Port%20Harcourt,%20Rivers%20State,%20Nigeria&output=embed"
              frameborder="0"
              style="border:0; width: 100%; height: 270px;"
              allowfullscreen=""
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade">
            </iframe>
          </div>
        </div>

        <div class="col-lg-7">
          <!-- <br/> -->
          {% include 'includes/alerts.html' %}
          <!-- <br/> -->

          <form method="post"
                action="{% url 'contact' %}"
                class="php-email-form contactform"
                data-aos="fade-up"
                data-aos-delay="200"
                novalidate>

            {% csrf_token %}

            <div class="row gy-4">

              <!-- FULL NAME -->
              <div class="col-md-6">
                <label for="name-field" class="pb-2">Full Name</label>
                <input type="text"
                      name="full_name"
                      id="name-field"
                      class="form-control"
                      placeholder="Full name"
                      required>
              </div>

              <!-- EMAIL -->
              <div class="col-md-6">
                <label for="email-field" class="pb-2">Email Address</label>
                <input type="email"
                      name="email"
                      id="email-field"
                      class="form-control"
                      placeholder="Email address"
                      required>
              </div>

              <!-- PHONE -->
              <div class="col-md-6">
                <label for="phone-field" class="pb-2">Phone Number</label>
                <input type="text"
                      name="phone_number"
                      id="phone-field"
                      class="form-control"
                      placeholder="Phone number">
              </div>

              <!-- COMPANY -->
              <div class="col-md-6">
                <label for="company-field" class="pb-2">Company Name</label>
                <input type="text"
                      name="company_name"
                      id="company-field"
                      class="form-control"
                      placeholder="Company or brand name">
              </div>

              <!-- SERVICE -->
              <div class="col-md-6">
                <label for="service-field" class="pb-2">Service Required</label>
                <select name="service"
                        id="service-field"
                        class="form-select">
                  <option value="">Select a service</option>
                  {% for service in services %}
                    <option value="{{ service.id }}">{{ service.name }}</option>
                  {% endfor %}
                </select>
              </div>

              <!-- CHANNEL -->
              <div class="col-md-6">
                <label for="channel-field" class="pb-2">How did you find us?</label>
                <select name="channel"
                        id="channel-field"
                        class="form-select">
                  <option value="">Select an option</option>
                  {% for key, value in channel_choices %}
                    <option value="{{ key }}">{{ value }}</option>
                  {% endfor %}
                </select>
              </div>

              <!-- MESSAGE -->
              <div class="col-md-12">
                <label for="message-field" class="pb-2">Message</label>
                <textarea name="message"
                  id="message-field"
                  rows="6"
                  class="form-control"
                  placeholder="Briefly describe your request or project"
                  required>
                </textarea>
              </div>

              <!-- SUBMIT -->
              <div class="col-md-12 text-center">
                <div class="loading alert alert-info d-none" role="alert">
                  Processing your request…
                </div>

                <div class="error-message alert alert-danger d-none" role="alert"></div>

                <div class="sent-message alert alert-success d-none" role="alert">
                  Thank you. Your message has been sent successfully.
                </div>

                <button type="submit">Send Message</button>
              </div>

            </div>
          </form>

        </div>
      <!-- End Contact Form -->

      </div>

    </div>

  </section>
  <!-- /Contact Section -->

</main>

{% endblock %}